<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>hidden-markov-music.hmm documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Hidden-markov-music 0.1.4-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hidden-markov-music</span></div></div></li><li class="depth-2 branch"><a href="hidden-markov-music.alphabet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>alphabet</span></div></a></li><li class="depth-2 branch"><a href="hidden-markov-music.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>demo</span></div></div></li><li class="depth-3 branch"><a href="hidden-markov-music.demo.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="hidden-markov-music.demo.random-sampling.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>random-sampling</span></div></a></li><li class="depth-3"><a href="hidden-markov-music.demo.repeated-baum-welch.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repeated-baum-welch</span></div></a></li><li class="depth-2 branch current"><a href="hidden-markov-music.hmm.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>hmm</span></div></a></li><li class="depth-2 branch"><a href="hidden-markov-music.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="hidden-markov-music.midi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>model</span></div></div></li><li class="depth-3 branch"><a href="hidden-markov-music.model.init.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-3 branch"><a href="hidden-markov-music.model.sample.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sample</span></div></a></li><li class="depth-3"><a href="hidden-markov-music.model.train.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>train</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>music</span></div></div></li><li class="depth-3 branch"><a href="hidden-markov-music.music.jfugue.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jfugue</span></div></a></li><li class="depth-3"><a href="hidden-markov-music.music.music.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>music</span></div></a></li><li class="depth-2 branch"><a href="hidden-markov-music.plots.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>plots</span></div></a></li><li class="depth-2 branch"><a href="hidden-markov-music.random.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>random</span></div></a></li><li class="depth-2 branch"><a href="hidden-markov-music.stats.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stats</span></div></a></li><li class="depth-2"><a href="hidden-markov-music.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-backward-probability-final"><div class="inner"><span>backward-probability-final</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-backward-probability-prev"><div class="inner"><span>backward-probability-prev</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-backward-probability-seq"><div class="inner"><span>backward-probability-seq</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-deltas"><div class="inner"><span>deltas</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-digamma"><div class="inner"><span>digamma</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-digamma-seq"><div class="inner"><span>digamma-seq</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-forward-probability-initial"><div class="inner"><span>forward-probability-initial</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-forward-probability-next"><div class="inner"><span>forward-probability-next</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-forward-probability-seq"><div class="inner"><span>forward-probability-seq</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-gamma"><div class="inner"><span>gamma</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-gamma-seq"><div class="inner"><span>gamma-seq</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-HMM-.3ELogHMM"><div class="inner"><span>HMM-&gt;LogHMM</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-hmms-almost-equal.3F"><div class="inner"><span>hmms-almost-equal?</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-likelihood-backward"><div class="inner"><span>likelihood-backward</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-likelihood-forward"><div class="inner"><span>likelihood-forward</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-LogHMM-.3EHMM"><div class="inner"><span>LogHMM-&gt;HMM</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-max-entries"><div class="inner"><span>max-entries</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-psis"><div class="inner"><span>psis</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-random-emission"><div class="inner"><span>random-emission</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-random-HMM"><div class="inner"><span>random-HMM</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-random-initial-state"><div class="inner"><span>random-initial-state</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-random-LogHMM"><div class="inner"><span>random-LogHMM</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-random-transition"><div class="inner"><span>random-transition</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-sample-emissions"><div class="inner"><span>sample-emissions</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-sample-states"><div class="inner"><span>sample-states</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-state-path-initial"><div class="inner"><span>state-path-initial</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-state-path-next"><div class="inner"><span>state-path-next</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-state-path-seq"><div class="inner"><span>state-path-seq</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-stream-.3Emodel"><div class="inner"><span>stream-&gt;model</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-train-model"><div class="inner"><span>train-model</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-train-model-likelihood-seq"><div class="inner"><span>train-model-likelihood-seq</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-train-model-next"><div class="inner"><span>train-model-next</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-train-model-seq"><div class="inner"><span>train-model-seq</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-uniform-HMM"><div class="inner"><span>uniform-HMM</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-uniform-LogHMM"><div class="inner"><span>uniform-LogHMM</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-valid-hmm.3F"><div class="inner"><span>valid-hmm?</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-viterbi-path"><div class="inner"><span>viterbi-path</span></div></a></li><li class="depth-1"><a href="hidden-markov-music.hmm.html#var-weighted-deltas"><div class="inner"><span>weighted-deltas</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">hidden-markov-music.hmm</h2><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-backward-probability-final"><h3>backward-probability-final</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns <code>β_T(i)</code>, for all states <code>i</code>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L269">view source</a></div></div><div class="public anchor" id="var-backward-probability-prev"><h3>backward-probability-prev</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns <code>β_t(i)</code>, for all states <code>i</code>, for <code>t &lt; T</code>.</p><p>This is the probability of observing the partial observation sequence, <code>o_{t+1}, ..., o_T</code>, conditional on being in state <code>i</code> at time <code>t</code>. Depends on the model, <code>β_{t+1}(j)</code>, and the next observation <code>o_{t+1}</code>.</p><p>Output is in the format</p>
<pre><code>{:state-1 β_t(1),
 :state-2 β_t(2),
 ...
 :state-N β_t(N)}
</code></pre></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L283">view source</a></div></div><div class="public anchor" id="var-backward-probability-seq"><h3>backward-probability-seq</h3><div class="usage"><code>(backward-probability-seq model observations)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy seq of <code>β_T(i), β_{T-1}(i), ..., β_1(i)</code>, where <code>β_t(i)</code> is the probability of observing <code>o_{t+1}, ..., o_T</code>, given that the system is in state <code>s_i</code> at time <code>t</code>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L349">view source</a></div></div><div class="public anchor" id="var-deltas"><h3>deltas</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns a mapping of <code>state-j -&gt; max(δ_{t-1}(i) p_{ij})*b_j(o_t)</code>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L446">view source</a></div></div><div class="public anchor" id="var-digamma"><h3>digamma</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the probability of being in state <code>i</code> at time <code>t</code> and state <code>j</code> at time <code>t+1</code> given the model and observation sequence.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L624">view source</a></div></div><div class="public anchor" id="var-digamma-seq"><h3>digamma-seq</h3><div class="usage"><code>(digamma-seq model forward-probs backward-probs observations)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy sequence of digammas from <code>t = 1</code> to <code>t = T-1</code>.</p><p>See <a href="hidden-markov-music.hmm.html#var-digamma">digamma</a>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L675">view source</a></div></div><div class="public anchor" id="var-forward-probability-initial"><h3>forward-probability-initial</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns <code>α_1(i)</code>, for all states <code>i</code>.</p><p>This is the probability of initially being in state <code>i</code> after observing the initial observation, <code>o_1</code>. Depends only on the model and initial observation.</p><p>Output is in the format</p>
<pre><code>{:state-1 α_1(1),
 :state-2 α_1(2),
 ...
 :state-N α_1(N)}
</code></pre></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L136">view source</a></div></div><div class="public anchor" id="var-forward-probability-next"><h3>forward-probability-next</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns <code>α_t(i)</code>, for all states <code>i</code>, for <code>t &gt; 1</code>, where <code>α_t(i)</code> is the probability of being in state <code>s_i</code> at time <code>t</code> after observing the sequence <code>o_1, o_2, ..., o_t</code>. Depends on the model <code>λ</code>, previous forward probability <code>α_{t-1}(i)</code>, and current observation <code>o_t</code>.</p><p>Output is in the format</p>
<pre><code>{s_1 α_t(1),
 s_2 α_t(2),
 ...
 s_N α_t(N)}
</code></pre></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L168">view source</a></div></div><div class="public anchor" id="var-forward-probability-seq"><h3>forward-probability-seq</h3><div class="usage"><code>(forward-probability-seq model observations)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy seq of <code>α_1(i), α_2(i), ..., α_T(i)</code>, where <code>α_t(i)</code> is the probability of being in state <code>s_i</code> at time <code>t</code> after observing the sequence <code>o_1, o_2, ..., o_t</code>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L230">view source</a></div></div><div class="public anchor" id="var-gamma"><h3>gamma</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the probability of being in state <code>i</code> at time <code>t</code> given the model and observation sequence.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L584">view source</a></div></div><div class="public anchor" id="var-gamma-seq"><h3>gamma-seq</h3><div class="usage"><code>(gamma-seq model forward-probs backward-probs)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy sequence of gammas from <code>t = 1</code> to <code>t = T</code>.</p><p>See <a href="hidden-markov-music.hmm.html#var-gamma">gamma</a>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L615">view source</a></div></div><div class="public anchor" id="var-HMM-.3ELogHMM"><h3>HMM-&gt;LogHMM</h3><div class="usage"><code>(HMM-&gt;LogHMM model)</code></div><div class="doc"><div class="markdown"><p>Transforms an HMM into a logarithmic HMM.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L15">view source</a></div></div><div class="public anchor" id="var-hmms-almost-equal.3F"><h3>hmms-almost-equal?</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns true if two HMMs are equal to the given precision.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L37">view source</a></div></div><div class="public anchor" id="var-likelihood-backward"><h3>likelihood-backward</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns <code>P[O|λ]</code>, using the backward algorithm.</p><p>This is the likelihood of the observed sequence <code>O</code> given the model <code>λ</code>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L362">view source</a></div></div><div class="public anchor" id="var-likelihood-forward"><h3>likelihood-forward</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns <code>P[O|λ]</code>, using the forward algorithm.</p><p>This is the likelihood of the observed sequence <code>O</code> given the model <code>λ</code>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L244">view source</a></div></div><div class="public anchor" id="var-LogHMM-.3EHMM"><h3>LogHMM-&gt;HMM</h3><div class="usage"><code>(LogHMM-&gt;HMM model)</code></div><div class="doc"><div class="markdown"><p>Transforms a logarithmic HMM into an HMM.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L26">view source</a></div></div><div class="public anchor" id="var-max-entries"><h3>max-entries</h3><div class="usage"><code>(max-entries weighted-deltas)</code></div><div class="doc"><div class="markdown"><p>Returns a mapping of <code>
state-j -&gt; [argmax(δ_{t-1}(i) p_{ij}),
               max(δ_{t-1}(i) p_{ij})]
</code></p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L471">view source</a></div></div><div class="public anchor" id="var-psis"><h3>psis</h3><div class="usage"><code>(psis max-entries)</code></div><div class="doc"><div class="markdown"><p>Returns a mapping of <code>state-j -&gt; argmax(δ_{t-1}(i) p_{ij})</code>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L464">view source</a></div></div><div class="public anchor" id="var-random-emission"><h3>random-emission</h3><div class="usage"><code>(random-emission model state)</code></div><div class="doc"><div class="markdown"><p>Randomly emits an observation from the current state, weighed by the observation probability distribution.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L831">view source</a></div></div><div class="public anchor" id="var-random-HMM"><h3>random-HMM</h3><div class="usage"><code>(random-HMM states observations)</code></div><div class="doc"><div class="markdown"><p>Returns an HMM with random probabilities, given the state and observation labels.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L93">view source</a></div></div><div class="public anchor" id="var-random-initial-state"><h3>random-initial-state</h3><div class="usage"><code>(random-initial-state model)</code></div><div class="doc"><div class="markdown"><p>Randomly selects an initial state from the model, weighed by the initial probability distribution.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L817">view source</a></div></div><div class="public anchor" id="var-random-LogHMM"><h3>random-LogHMM</h3><div class="usage"><code>(random-LogHMM states observations)</code></div><div class="doc"><div class="markdown"><p>Returns a logarithmic HMM with random probabilities, given the state and observation labels.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L104">view source</a></div></div><div class="public anchor" id="var-random-transition"><h3>random-transition</h3><div class="usage"><code>(random-transition model state)</code></div><div class="doc"><div class="markdown"><p>Randomly selects a state to transition to from the current state, weighed by the transition probability distribution.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L823">view source</a></div></div><div class="public anchor" id="var-sample-emissions"><h3>sample-emissions</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Randomly walks through the states of the model, returning an infinite lazy seq of emissions from those states. One can optionally provide predetermined states, and emissions will be made from it randomly.</p><p>See <a href="hidden-markov-music.hmm.html#var-sample-states">sample-states</a> and <a href="hidden-markov-music.hmm.html#var-random-emission">random-emission</a> for details.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L856">view source</a></div></div><div class="public anchor" id="var-sample-states"><h3>sample-states</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Randomly walks through the states of the model, returning an infinite lazy seq of those states.</p><p>See <a href="hidden-markov-music.hmm.html#var-random-initial-state">random-initial-state</a> and <a href="hidden-markov-music.hmm.html#var-random-transition">random-transition</a> for details on the decisions made at each step.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L839">view source</a></div></div><div class="public anchor" id="var-state-path-initial"><h3>state-path-initial</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns <code>ψ_1(i)</code> and <code>δ_1(i)</code>, for the given model <code>λ</code> and first observation <code>o_1</code>.</p><p>Output takes the form:</p>
<pre><code>{:delta δ_1(i),
 :psi   ψ_1(i)}
</code></pre></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L394">view source</a></div></div><div class="public anchor" id="var-state-path-next"><h3>state-path-next</h3><div class="usage"><code>(state-path-next model obs delta-prev)</code></div><div class="doc"><div class="markdown"><p>Returns <code>ψ_t(i)</code> and <code>δ_t(i)</code>, for the given model <code>λ</code> and current observation <code>o_t</code>. Depends on the previous <code>δ_{t-1}(i)</code>.</p><p>Output takes the form:</p>
<pre><code>{:delta δ_t(i),
 :psi   ψ_t(i)}
</code></pre></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L482">view source</a></div></div><div class="public anchor" id="var-state-path-seq"><h3>state-path-seq</h3><div class="usage"><code>(state-path-seq model observations)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy seq of previous states paired with their probabilities, <code>[ψ_1(i) δ_1(i)], ... [ψ_T(i) δ_T(i)]</code>, where <code>ψ_t(i)</code> is a mapping from state <code>i</code> to the state <code>j</code> which most likely preceded it, and <code>δ_t(i)</code> is a mapping from state <code>i</code> to the probability of the most likely state path leading up to it from state <code>j</code>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L513">view source</a></div></div><div class="public anchor" id="var-stream-.3Emodel"><h3>stream-&gt;model</h3><div class="usage"><code>(stream-&gt;model stream)</code></div><div class="doc"><div class="markdown"><p>Reads an HMM or LogHMM from an EDN stream, and throws an exception if not a valid model.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L127">view source</a></div></div><div class="public anchor" id="var-train-model"><h3>train-model</h3><div class="usage"><code>(train-model model observations &amp; {:keys [decimal max-iter], :or {decimal 15, max-iter 100}})</code></div><div class="doc"><div class="markdown"><p>Trains the model via the Baum-Welch algorithm.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L787">view source</a></div></div><div class="public anchor" id="var-train-model-likelihood-seq"><h3>train-model-likelihood-seq</h3><div class="usage"><code>(train-model-likelihood-seq model observations)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L780">view source</a></div></div><div class="public anchor" id="var-train-model-next"><h3>train-model-next</h3><div class="usage"><code>(train-model-next model observations)</code></div><div class="doc"><div class="markdown"><p>Returns an infinite lazy sequence of trained models</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L756">view source</a></div></div><div class="public anchor" id="var-train-model-seq"><h3>train-model-seq</h3><div class="usage"><code>(train-model-seq model observations)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L773">view source</a></div></div><div class="public anchor" id="var-uniform-HMM"><h3>uniform-HMM</h3><div class="usage"><code>(uniform-HMM states observations)</code></div><div class="doc"><div class="markdown"><p>Returns an HMM with uniform probabilities, given the state and observation labels.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L110">view source</a></div></div><div class="public anchor" id="var-uniform-LogHMM"><h3>uniform-LogHMM</h3><div class="usage"><code>(uniform-LogHMM states observations)</code></div><div class="doc"><div class="markdown"><p>Returns a logarithmic HMM with uniform probabilities, given the state and observation labels.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L121">view source</a></div></div><div class="public anchor" id="var-valid-hmm.3F"><h3>valid-hmm?</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns true if the HMM has all stochastic probabilities to the given precision.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L66">view source</a></div></div><div class="public anchor" id="var-viterbi-path"><h3>viterbi-path</h3><div class="usage"><code>(viterbi-path model observations)</code></div><div class="doc"><div class="markdown"><p>Returns one of the state sequences <code>Q</code> which maximizes <code>P[Q|O,λ]</code>, along with the likelihood itself, <code>P[Q|O,λ]</code>. There are potentially many such paths, all with equal likelihood, and one of those is chosen arbitrarily.</p><p>This is accomplished by means of the Viterbi algorithm, and takes into account that <code>q_t</code> depends on <code>q_{t-1}</code>, and not just <code>o_t</code>, avoiding impossible state sequences.</p><p>Output takes the form:</p>
<pre><code>{:likelihood     P[Q|O,λ],
 :state-sequence Q}
</code></pre></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L542">view source</a></div></div><div class="public anchor" id="var-weighted-deltas"><h3>weighted-deltas</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns a mapping of <code>state-j -&gt; state-i -&gt; δ_{t-1}(i) p_{ij}</code>.</p></div></div><div class="src-link"><a href="https://github.com/dwysocki/hidden-markov-music/tree/master/src/hidden_markov_music/hmm.clj#L426">view source</a></div></div></div></body></html>